### 测试基于时间戳的CommandBus优化

### 1. 测试单个命令处理
POST https://localhost:7000/api/TimeBasedDemo/single
Content-Type: application/json

{
  "product": "TestProduct-001",
  "quantity": 5,
  "priority": 1
}

### 2. 测试时间窗口批处理
POST https://localhost:7000/api/TimeBasedDemo/batch-window
Content-Type: application/json

{
  "count": 10,
  "quantity": 2,
  "priority": 1
}

### 3. 测试时间戳排序和优先级
POST https://localhost:7000/api/TimeBasedDemo/priority-test
Content-Type: application/json

{
  "commands": [
    {
      "product": "HighPriority-001",
      "quantity": 1,
      "priority": 1
    },
    {
      "product": "MediumPriority-002", 
      "quantity": 2,
      "priority": 2
    },
    {
      "product": "LowPriority-003",
      "quantity": 3,
      "priority": 3
    }
  ]
}

### 4. 获取时间基础CommandBus性能指标
GET https://localhost:7000/api/TimeBasedDemo/metrics

### 5. 重置性能指标
POST https://localhost:7000/api/TimeBasedDemo/metrics/reset

### 6. 对比测试 - 原有的DataflowDemo
POST https://localhost:7000/api/DataflowDemo/single
Content-Type: application/json

{
  "product": "OriginalProduct-001",
  "quantity": 3,
  "priority": 1
}

### 7. 获取原有DataflowDemo的性能指标
GET https://localhost:7000/api/DataflowDemo/metrics
